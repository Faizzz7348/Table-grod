// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Route {
  id        Int      @id @default(autoincrement())
  route     String
  shift     String
  warehouse String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  locations Location[]
}

model Location {
  id        Int      @id @default(autoincrement())
  no        Int
  code      String
  location  String
  delivery  String
  powerMode String
  images    String[] // Array of image URLs
  latitude  Float?   // Latitude for map
  longitude Float?   // Longitude for map
  address   String?  // Address caption for map
  routeId   Int?
  route     Route?   @relation(fields: [routeId], references: [id])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@index([routeId])
}
